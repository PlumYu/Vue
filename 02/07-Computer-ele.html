<!DOCTYPE html>
<html lang="en">
    <!-- p23 -->
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE-edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Test</title>
    </head>
    <body>
        <!-- 
            计算属性: 基于现有的数据， 计算出来的新属性。依赖的数据变化，自动重新计算。
            语法：
                声明在 computed 配置项中， 一个计算属性，对应一个函数    不是在 data 里面定义
                使用起来和普通属性一样使用 {{ value }}    
        -->
        <div id = "app">
            <h3>码农的礼物清单</h3>
            <table>
                <tr>
                    <th> name </th>
                    <th> numbers </th>
                </tr>
                <tr v-for="(item, index) in list" :key = "item.id">
                    <td> {{ item.name }}</td>
                    <td> {{ item.num }} </td>
                </tr>
            </table>
            <p> total numbers: {{totalCount }} </p>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
         <script>
            const app = new Vue({
                el : '#app',
                data:{
                    list:[
                        { id: 1, name: 'basketbal', num: 1},
                        { id: 2, name: 'toy', num: 2},
                        { id: 3, name: 'pencil', num: 6}
                    ]
                },
                computed:{
                    totalCount(){
                        // 基于现有的数据， 编写求值逻辑
                        // 计算属性函数内部， 可以直接通过 this 访问到 app 的实例
                        // console.log(this.list)

                        //需求： 对 this.list 数组里面的 num 进行求和 -> reduce
                        let total = this.list.reduce((sum, item) => sum + item.num, 0)
                        return total
                    }
                }
            })
            
         </script>
    </body>
</html>