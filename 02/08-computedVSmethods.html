<!DOCTYPE html>
<html lang="en">
    <!-- p23 -->
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE-edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Test</title>
    </head>
    <body>
        <!-- 
           computed 计算属性：
           作用：封装了一个对于数据的处理，求得一个结果。
           语法：
                写在 computed 配置项中
                作为属性，直接使用 -> this.计算属性 {{ 计算属性 }}
                缓存特性（提升性能）：计算出来的结果缓存，再次使用直接读取缓存，依赖项变化了，会自动重新计算 -> 并再次缓存
            
            mothods 方法：
            作用：给实例提供一个方法，调用以处理业务逻辑。
            语法：
                写在 methods 配置项中
                作为方法，需要调用 -> this.方法名（）{{ 方法名（）}} @事件名 = "方法名"
        -->
        <div id = "app">
            <h3>码农的礼物清单🚗<span> {{ totalCount }} </span></h3>
            <h3>码农的礼物清单🚗<span> {{ totalCount }} </span></h3>
            <h3>码农的礼物清单🚗<span> {{ totalCount }} </span></h3>
            <h3>码农的礼物清单🚗<span> {{ totalCount }} </span></h3>
            <table>
                <tr>
                    <th> name </th>
                    <th> numbers </th>
                </tr>
                <tr v-for="(item, index) in list" :key = "item.id">
                    <td> {{ item.name }}</td>
                    <td> {{ item.num }} </td>
                </tr>
            </table>
            <p> total numbers: {{totalCount }} </p>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.js"></script>
         <script>
            const app = new Vue({
                el : '#app',
                data:{
                    list:[
                        { id: 1, name: 'basketbal', num: 1},
                        { id: 2, name: 'toy', num: 2},
                        { id: 3, name: 'pencil', num: 6}
                    ]
                },
                computed:{
                    totalCount(){
                        // 基于现有的数据， 编写求值逻辑
                        // 计算属性函数内部， 可以直接通过 this 访问到 app 的实例
                        // console.log(this.list)

                        //需求： 对 this.list 数组里面的 num 进行求和 -> reduce
                        console.log('计算属性执行了')
                        let total = this.list.reduce((sum, item) => sum + item.num, 0)
                        return total
                    }
                }
            })
            
         </script>
    </body>
</html>